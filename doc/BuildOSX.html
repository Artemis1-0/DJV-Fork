<html>
<head>
<link rel="stylesheet" type="text/css" href="Style.css">
<title>DJV</title>
</head>
<body>

<div class="header">
<div class="row">
	<div><a class="image" href="index.html"><img src="images/djv-logo-small.png" align="left"></a></div>
</div>
</div>

<div class="content">

	<div class="textSmall"><a class="text" href="index.html">Home</a> | <a class="text" href="Documentation.html">Documentation</a> | Building on OSX</div>

	<div class="column" style="margin: 3em 0 0 0">
		<div class="textLarge">Requirements</div>		
		<div class="textSmall" style="margin: 1em 0 0 0">Build tools:</div>
		<div class="textSmall">
		<ul>
			<li>C++11 compiler</li>
			<li><a class="text" href="https://cmake.org">CMake 3.12</a></li>
			<li><a class="text" href="https://git-scm.com">git</a></li>
		</ul>
		</div>
		<div class="textSmall">Libraries:</div>
		<div class="textSmall">
		<ul>
			<li><a class="text" href="http://glm.g-truc.net/0.9.9/index.html">GLM 0.9.9</a></li>
			<li><a class="text" href="http://www.openexr.com/downloads.html">IlmBase 2.3</a></li>
			<li><a class="text" href="http://github.com/imageworks/OpenColorIO/archive">OpenColorIO 1.1.1</a></li>
			<li><a class="text" href="http://www.opengl.org">OpenGL 3.3</a></li>
		</ul>
		</div>
		<div class="textSmall">Optional libraries:</div>
		<div class="textSmall">
		<ul>
			<li><a class="text" href="http://www.ffmpeg.org">FFmpeg 4.1.3</a></li>
			<li><a class="text" href="http://www.openexr.com/downloads.html">OpenEXR 2.3</a></li>
			<li><a class="text" href="http://libjpeg-turbo.org">libjpeg-turbo 2.0</a></li>
			<li><a class="text" href="http://www.libpng.org/pub/png/libpng.html">libpng 1.6</a></li>
			<li><a class="text" href="http://download.osgeo.org/libtiff">libtiff 4.0</a></li>
		</ul>
		</div>
	</div>
	
	<div class="column" style="margin: 3em 0 0 0">
		<div class="textLarge">Building the Source Code</div>
		<div class="textSmall" style="margin: 1em 0 0 0">The following steps describe how to
		compile both the DJV source code and the third party libraries that it depends on.</div>
		<div class="textSmall" style="margin: .5em 0 0 0">First choose a working directory for
		building the source code. In the following steps we will refer to this directory as $BUILD_DIR.</div>
		<div class="textSmall" style="margin: .5em 0 0 0">Clone the third party repository:</div>
		<pre>
git clone git://git.code.sf.net/p/djv/git-third-party djv-git-third-party</pre>
		<div class="textSmall">This repository contains the third party libraries DJV depends on,
		as well as minor modifications necessary for building on the various platforms that DJV supports.</div>
		<div class="textSmall" style="margin: .5em 0 0 0">Create a new sub-directory and start the build:</div>
		<pre>
> mkdir djv-git-third-party-Debug
> cd djv-git-third-party-Debug
> cmake ../djv-git-third-party \
    -DCMAKE_BUILD_TYPE=Debug \
    -DCMAKE_PREFIX_PATH=$BUILD_DIR/djv-install-Debug \
    -DCMAKE_INSTALL_PREFIX=$BUILD_DIR/djv-install-Debug \
    -DCMAKE_FIND_FRAMEWORK="LAST"
> make
> cd ..</pre>
		<div class="textSmall">After the build completes add the install path to your LD_LIBRARY_PATH:</pre>
		<pre>
> export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$BUILD_DIR/djv-install-Debug/lib</pre>
		<div class="textSmall">Clone the DJV repository:</div>
		<pre>
> git clone https://github.com/darbyjohnston/DJV.git djv-git</div>
		<div class="textSmall">Create a new sub-directory and start the build:</div>
		<pre>
> mkdir djv-git-Debug
> cd djv-git-Debug
> cmake ../djv-git \
    -DCMAKE_BUILD_TYPE=Debug \
    -DCMAKE_PREFIX_PATH=$BUILD_DIR/djv-install-Debug \
    -DDJV_THIRD_PARTY=$BUILD_DIR/djv-install-Debug \
    -DCMAKE_FIND_FRAMEWORK="LAST"
> make</pre>
		<div class="textSmall">After the build completes run the confidence tests:</div>
		<pre>
> make test</pre>
		<div class="textSmall">You can also start the djv application:</div>
		<pre>
> ./build/bin/djv</pre>
	</div>

</div>

<div class="footer" style="margin: 1em 0 0 0">
Copyright (c) 2004-2019 Darby Johnston
</div>

</body>
