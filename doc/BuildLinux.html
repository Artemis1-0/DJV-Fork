<html>
<head>
<link rel="stylesheet" type="text/css" href="Style.css">
<title>DJV</title>
</head>
<body>

<div class="header">
<div class="row">
	<div><a class="image" href="index.html"><img src="images/djv-logo-small.png" align="left"></a></div>
</div>
</div>

<div class="content">

	<div class="textSmall"><a class="text" href="index.html">Home</a> | <a class="text" href="Documentation.html">Documentation</a> | Building on Linux</div>

	<div class="column" style="margin: 3em 0 0 0">
		<div class="textLarge">Building on Linux</div>
		<div class="textSmall" style="margin: 1em 0 0 0">
		<ul>
		    <li><a class="text" href="#BuildingTheSourceCode">Building the Source Code</a></li>
		    <li><a class="text" href="#Packaging">Packaging</a></li>
		</ul>
		</div>
	</div>
	
	<div class="column" style="margin: 3em 0 0 0">
	    
		<div class="textLarge"><a name="BuildingTheSourceCode">Building the Source Code</a></div>
		<div class="textSmall" style="margin: 2em 0 0 0">Required build tools:</div>
		<div class="textSmall">
		<ul>
			<li>C++11 compiler</li>
			<li><a class="text" href="https://cmake.org">CMake 3.12</a></li>
			<li><a class="text" href="https://git-scm.com">git</a></li>
			<li><a class="text" href="https://www.nasm.us">NASM</a></li>
		</ul>
		</div>
		<div class="textSmall">Required libraries:</div>
		<div class="textSmall">
		<ul>
			<li><a class="text" href="http://www.opengl.org">OpenGL 4.1</a></li>
		</ul>
		</div>
		<div class="textSmall" style="margin: .5em 0 0 0">The following steps describe how to
		compile both the DJV source code and the third party libraries that it depends on.</div>
		<div class="textSmall" style="margin: .5em 0 0 0">First clone the repository:</div>
		<pre>
> git clone https://github.com/darbyjohnston/DJV.git djv-git</pre>
		<div class="textSmall">Then create a new sub-directory and start the build:</div>
		<pre>
> mkdir djv-git-Debug
> cd djv-git-Debug
> cmake ../djv-git -DCMAKE_BUILD_TYPE=Debug -DDJV_THIRD_PARTY=TRUE
> make -j</pre>
		<div class="textSmall" style="margin: .5em 0 0 0">After the build completes add the install path to your LD_LIBRARY_PATH:</div>
		<pre>
> export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$PWD/install/lib</pre>
		<div class="textSmall">Run the confidence tests:</div>
		<pre>
> make test</pre>
		<div class="textSmall">Run the djv application:</div>
		<pre>
> ./build/bin/djv</pre>
	</div>
	
	<div class="column" style="margin: 3em 0 0 0">
		<div class="textLarge"><a name="Packaging">Packaging</a></div>
		<div class="textSmall" style="margin: 2em 0 0 0">Set the new version in the top-level "CMakeLists.txt" and "Doxyfile" files.</div>
		<div class="textSmall" style="margin: .5em 0 0 0">Update the download information in "doc/Download.html".</div>
		<div class="textSmall" style="margin: .5em 0 0 0">Tag the git repository:</div>
		<pre>
> git tag -a 2.0.0 -m "Version 2.0.0"
> git push origin 2.0.0</pre>
		<div class="textSmall">Update the web site:</div>
		<pre>
> ssh -t USERNAME@shell.sourceforge.net create
> scp file USERNAME@web.sourceforge.net:/home/project-web/djv/htdocs</pre>
		<div class="textSmall">Building an RPM package:</div>
		<pre>
> cmake ../djv-git -DCPACK_GENERATOR=RPM -DCPACK_PACKAGING_INSTALL_PREFIX=/usr/local/DJV2 -DDJV_THIRD_PARTY_DISABLE_BUILD=TRUE
> make package</pre>
		<div class="textSmall">Building a Debian package:</div>
		<pre>
> cmake ../djv-git -DCPACK_GENERATOR=DEB -DCPACK_PACKAGING_INSTALL_PREFIX=/usr/local/DJV2 -DDJV_THIRD_PARTY_DISABLE_BUILD=TRUE
> make package</pre>
		<div class="textSmall">Building a TGZ package:</div>
		<pre>
> cmake ../djv-git -DCPACK_GENERATOR=TGZ -DCPACK_PACKAGING_INSTALL_PREFIX= -DDJV_THIRD_PARTY_DISABLE_BUILD=TRUE
> make package</pre>
	</div>

</div>

<div class="footer" style="margin: 1em 0 0 0">
Copyright (c) 2004-2019 Darby Johnston
</div>

</body>
