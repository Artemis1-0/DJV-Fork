set(header
    AVSystemTest.h
    AudioDataTest.h
    AudioFuncTest.h
    AudioSystemTest.h
    AudioSystemFuncTest.h
    AudioTest.h
    CineonTest.h
    ColorTest.h
    DPXTest.h
    EnumTest.h
    FontSystemTest.h
    IOTest.h
    ImageConvertTest.h
    ImageDataTest.h
    ImageTest.h
    ImageUtilTest.h
    OCIOSystemTest.h
    OCIOTest.h
    OpenGLMeshCacheTest.h
    OpenGLMeshTest.h
    OpenGLOffscreenBufferTest.h
    OpenGLShaderTest.h
    OpenGLTextureAtlasTest.h
    OpenGLTextureTest.h
    PPMTest.h
    PixelTest.h
    Render2DTest.h
    Render3DCameraTest.h
    Render3DLightTest.h
    Render3DMaterialTest.h
    Render3DTest.h
    ShaderTest.h
    ShapeTest.h
    TagsTest.h
    ThumbnailSystemTest.h
    TriangleMeshTest.h)
set(source
    AVSystemTest.cpp
    AudioDataTest.cpp
    AudioFuncTest.cpp
    AudioSystemTest.cpp
    AudioSystemFuncTest.cpp
    AudioTest.cpp
    CineonTest.cpp
    ColorTest.cpp
    DPXTest.cpp
    EnumTest.cpp
    FontSystemTest.cpp
    IOTest.cpp
    ImageConvertTest.cpp
    ImageDataTest.cpp
    ImageTest.cpp
    ImageUtilTest.cpp
    OCIOSystemTest.cpp
    OCIOTest.cpp
    OpenGLMeshCacheTest.cpp
    OpenGLMeshTest.cpp
    OpenGLOffscreenBufferTest.cpp
    OpenGLShaderTest.cpp
    OpenGLTextureAtlasTest.cpp
    OpenGLTextureTest.cpp
    PPMTest.cpp
    PixelTest.cpp
    Render2DTest.cpp
    Render3DCameraTest.cpp
    Render3DLightTest.cpp
    Render3DMaterialTest.cpp
    Render3DTest.cpp
    ShaderTest.cpp
    ShapeTest.cpp
    TagsTest.cpp
    ThumbnailSystemTest.cpp
    TriangleMeshTest.cpp)
if (NOT DJV_BUILD_TINY AND NOT DJV_BUILD_MINIMAL)
    set(header
        ${header}
        FFmpegTest.h
        JPEGTest.h
        OpenEXRTest.h
        TIFFTest.h)
    set(header
        ${header}
        FFmpegTest.cpp
        JPEGTest.cpp
        OpenEXRTest.cpp
        TIFFTest.cpp)
endif()

add_library(djvAVTest ${header} ${source})
target_link_libraries(djvAVTest djvTestLib djvAV)
set_target_properties(
    djvAVTest
    PROPERTIES
    FOLDER tests
    CXX_STANDARD 11)

