set(header
    AV.h
    AVSystem.h
    Audio.h
    AudioData.h
    AudioDataInline.h
    AudioInline.h
    AudioSystem.h
    Cineon.h
    Color.h
    ColorInline.h
    DPX.h
    Enum.h
    FontSystem.h
    FontSystemInline.h
    IFF.h
    IO.h
    IOInline.h
    Image.h
    ImageConvert.h
    ImageData.h
    ImageDataInline.h
	OCIO.h
	OCIOSystem.h
    OpenGL.h
    OpenGLMesh.h
    OpenGLMeshInline.h
    OpenGLOffscreenBuffer.h
    OpenGLShader.h
    OpenGLTexture.h
    OpenGLTextureInline.h
    PPM.h
    Pixel.h
    PixelInline.h
    RLA.h
    Render2D.h
    Render2DInline.h
    SGI.h
    SequenceIO.h
    Shader.h
    Shape.h
    Tags.h
    Targa.h
    TextureAtlas.h
    ThumbnailSystem.h
    TriangleMesh.h)
set(source
    AVSystem.cpp
    Audio.cpp
    AudioData.cpp
    AudioSystem.cpp
    Cineon.cpp
    CineonRead.cpp
    CineonWrite.cpp
    Color.cpp
    DPX.cpp
    DPXRead.cpp
    DPXWrite.cpp
    Enum.cpp
    FontSystem.cpp
    IFF.cpp
    IFFRead.cpp
    IO.cpp
    Image.cpp
    ImageConvert.cpp
    ImageData.cpp
	OCIO.cpp
	OCIOSystem.cpp
    OpenGLMesh.cpp
    OpenGLOffscreenBuffer.cpp
    OpenGLShader.cpp
    OpenGLTexture.cpp
    PPM.cpp
    PPMRead.cpp
    PPMWrite.cpp
    Pixel.cpp
    RLA.cpp
    RLARead.cpp
    Render2D.cpp
    SequenceIO.cpp
    Shape.cpp
    Shader.cpp
    SGI.cpp
    SGIRead.cpp
    Tags.cpp
    Targa.cpp
    TargaRead.cpp
    TextureAtlas.cpp
    ThumbnailSystem.cpp
    TriangleMesh.cpp)
if(FFmpeg_FOUND)
    set(header
        ${header}
		FFmpeg.h
		FFmpegInline.h)
    set(source
        ${source}
		FFmpeg.cpp
		FFmpegRead.cpp)
endif()
if(JPEG_FOUND)
    set(header
        ${header}
        JPEG.h)
    set(source
        ${source}
        JPEG.cpp
        JPEGRead.cpp
        JPEGWrite.cpp)
endif()
if(PNG_FOUND)
    set(header
        ${header}
        PNG.h)
    set(source
        ${source}
        PNG.cpp
        PNGRead.cpp
        PNGWrite.cpp)
endif()
if(OPENEXR_FOUND)
    set(header
        ${header}
        OpenEXR.h)
    set(source
        ${source}
        OpenEXR.cpp
        OpenEXRRead.cpp
        OpenEXRWrite.cpp)
endif()
if(TIFF_FOUND)
    set(header
        ${header}
        TIFF.h)
    set(source
        ${source}
        TIFF.cpp
        TIFFRead.cpp
        TIFFWrite.cpp)
endif()

add_library(djvAV ${header} ${source})
set(LIBRARIES
    glad
    GLFW
    FreeType
	OCIO
    IlmBase
    #OpenAL
    RtAudio
    OpenGL::GL
    djvCore)
if(FFmpeg_FOUND)
    set(LIBRARIES ${LIBRARIES} FFmpeg)
endif()
if(JPEG_FOUND)
    set(LIBRARIES ${LIBRARIES} JPEG)
endif()
if(PNG_FOUND)
    set(LIBRARIES ${LIBRARIES} PNG)
endif()
if(OPENEXR_FOUND)
    set(LIBRARIES ${LIBRARIES} OpenEXR)
endif()
if(TIFF_FOUND)
    set(LIBRARIES ${LIBRARIES} TIFF)
endif()
target_link_libraries(djvAV ${LIBRARIES})
set_target_properties(
    djvAV
    PROPERTIES
    FOLDER lib
    CXX_STANDARD 11)

